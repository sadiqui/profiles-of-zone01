<!DOCTYPE html>
<html>
<head>
    <meta name="description" content="GraphiQL playground for testing GraphQL queries with JWT auth on the Zone01 API.">
    <link rel="icon" href="https://cdn-icons-png.flaticon.com/128/16869/16869838.png" type="image/x-icon">
    <title>GraphiQL 01</title>
    <link rel="stylesheet" href="https://unpkg.com/graphiql@3/graphiql.min.css" />
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/graphiql@3/graphiql.min.js"></script>
</head>
<body style="margin: 0; height: 100vh;">
    <div id="graphiql" style="height: 100vh;"></div>
    <script>
        // Wait for GraphiQL to load
        window.addEventListener('load', function() {
            const fetcher = GraphiQL.createFetcher({
                url: 'https://learn.zone01oujda.ma/api/graphql-engine/v1/graphql',
                headers: {
                    Authorization: 'Bearer ' + (localStorage.getItem('JWT') || '')
                }
            });
            
            const root = ReactDOM.createRoot(document.getElementById('graphiql'));
            root.render(React.createElement(GraphiQL, { fetcher }));
        });
    </script>
</body>
</html>